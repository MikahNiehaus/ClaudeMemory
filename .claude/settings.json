{
  "permissions": {
    "allow": [
      "Read",
      "Write",
      "Edit",
      "Glob",
      "Grep",
      "Task",
      "TodoWrite",
      "NotebookEdit",
      "WebSearch",
      "WebFetch",
      "AskUserQuestion",
      "Bash(npm:*)",
      "Bash(npx:*)",
      "Bash(node:*)",
      "Bash(python:*)",
      "Bash(pip:*)",
      "Bash(pytest:*)",
      "Bash(jest:*)",
      "Bash(vitest:*)",
      "Bash(tsc:*)",
      "Bash(eslint:*)",
      "Bash(prettier:*)",
      "Bash(cargo:*)",
      "Bash(go:*)",
      "Bash(dotnet:*)",
      "Bash(mvn:*)",
      "Bash(gradle:*)",
      "Bash(make:*)",
      "Bash(cmake:*)",
      "Bash(ls:*)",
      "Bash(pwd)",
      "Bash(cd:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(touch:*)",
      "Bash(chmod:*)",
      "Bash(wc:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(diff:*)",
      "Bash(git status)",
      "Bash(git status:*)",
      "Bash(git diff)",
      "Bash(git diff:*)",
      "Bash(git log)",
      "Bash(git log:*)",
      "Bash(git show:*)",
      "Bash(git blame:*)",
      "Bash(git rev-parse:*)",
      "Bash(git branch)",
      "Bash(git branch -a)",
      "Bash(git branch -r)",
      "Bash(git branch -v)",
      "Bash(git branch --list:*)",
      "Bash(git remote -v)",
      "Bash(git remote show:*)",
      "Bash(git tag)",
      "Bash(git tag -l:*)",
      "Bash(git ls-files:*)",
      "Bash(git ls-tree:*)",
      "Bash(git shortlog:*)",
      "Bash(git describe:*)",
      "Bash(git config --list)",
      "Bash(git config --get:*)",
      "Bash(gh issue:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr status)",
      "Bash(gh pr checks:*)",
      "Bash(gh repo view:*)",
      "Bash(docker ps:*)",
      "Bash(docker images:*)",
      "Bash(docker logs:*)",
      "Bash(docker inspect:*)",
      "Bash(which:*)",
      "Bash(where:*)",
      "Bash(type:*)",
      "Bash(env)",
      "Bash(printenv:*)",
      "Bash(date:*)",
      "Bash(whoami)",
      "Bash(hostname)",
      "Bash(git add:*)",
      "Bash(git add)",
      "Bash(git commit:*)",
      "Bash(git commit)",
      "Bash(git push:*)",
      "Bash(git push)",
      "Bash(git pull:*)",
      "Bash(git pull)",
      "Bash(git fetch:*)",
      "Bash(git fetch)",
      "Bash(git checkout:*)",
      "Bash(git checkout)",
      "Bash(git switch:*)",
      "Bash(git switch)",
      "Bash(git stash:*)",
      "Bash(git stash)",
      "Bash(git branch -d:*)",
      "Bash(git branch -m:*)",
      "Bash(git branch -c:*)",
      "Bash(git branch --copy:*)",
      "Bash(git merge:*)",
      "Bash(git merge)",
      "Bash(git rebase:*)",
      "Bash(git rebase)",
      "Bash(git cherry-pick:*)",
      "Bash(git cherry-pick)",
      "Bash(git tag -a:*)",
      "Bash(git rm:*)",
      "Bash(git mv:*)",
      "Bash(git apply:*)",
      "Bash(git am:*)",
      "Bash(git worktree:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr edit:*)",
      "Bash(gh issue create:*)",
      "Bash(gh issue edit:*)"
    ],
    "ask": [
      "Bash(rm:*)",
      "Bash(rmdir:*)",
      "Bash(git reset:*)",
      "Bash(git reset)",
      "Bash(git revert:*)",
      "Bash(git revert)",
      "Bash(git clean:*)",
      "Bash(git clean)",
      "Bash(git restore:*)",
      "Bash(git restore)",
      "Bash(git branch -D:*)",
      "Bash(git branch --delete:*)",
      "Bash(git branch -M:*)",
      "Bash(git branch --move:*)",
      "Bash(git tag -d:*)",
      "Bash(git tag --delete:*)",
      "Bash(git remote add:*)",
      "Bash(git remote remove:*)",
      "Bash(git remote rename:*)",
      "Bash(git remote set-url:*)",
      "Bash(git config --global:*)",
      "Bash(git config --system:*)",
      "Bash(git config --local:*)",
      "Bash(git config --unset:*)",
      "Bash(git init:*)",
      "Bash(git init)",
      "Bash(git clone:*)",
      "Bash(git clone)",
      "Bash(git submodule:*)",
      "Bash(git filter-branch:*)",
      "Bash(git reflog expire:*)",
      "Bash(git gc:*)",
      "Bash(git prune:*)",
      "Bash(git format-patch:*)",
      "Bash(git bisect:*)",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh pr close:*)",
      "Bash(gh issue close:*)",
      "Bash(gh repo create:*)",
      "Bash(gh release:*)",
      "Bash(sudo:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./.env.local)",
      "Read(./.env.production)",
      "Read(./secrets/**)",
      "Read(./**/secrets/**)",
      "Read(./**/*.pem)",
      "Read(./**/*.key)",
      "Read(./**/credentials*)",
      "Read(./**/*_secret*)",
      "Read(./**/*_token*)",
      "Read(~/.ssh/**)",
      "Read(~/.aws/**)",
      "Read(~/.config/gcloud/**)",
      "Write(./.env)",
      "Write(./.env.*)",
      "Write(./secrets/**)",
      "Edit(./.env)",
      "Edit(./.env.*)",
      "Edit(./secrets/**)"
    ],
    "deny": [
      "Bash(rm -rf /)",
      "Bash(rm -rf /*)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf ~/*)",
      "Bash(mkfs:*)",
      "Bash(dd if=/dev/zero:*)",
      "Bash(dd if=/dev/random:*)",
      "Bash(format c:*)",
      "Bash(psql -c DROP:*)",
      "Bash(psql -c TRUNCATE:*)",
      "Bash(mysql -e DROP:*)",
      "Bash(mysql -e TRUNCATE:*)",
      "Bash(mongosh --eval db.dropDatabase:*)",
      "Bash(redis-cli FLUSHALL)",
      "Bash(redis-cli FLUSHDB)",
      "Bash(shutdown:*)",
      "Bash(reboot:*)",
      "Bash(init 0)",
      "Bash(init 6)",
      "Bash(halt)",
      "Bash(poweroff)",
      "Bash(chmod 777:*)",
      "Bash(chmod -R 777:*)",
      "Bash(gh repo delete:*)",
      "Bash(dd of=/dev/sd:*)",
      "Bash(mv /etc:*)",
      "Bash(mv /usr:*)",
      "Bash(mv /bin:*)",
      "Bash(mv /var:*)"
    ],
    "additionalDirectories": []
  },
  "sandbox": {
    "enabled": true,
    "autoAllowBashIfSandboxed": true,
    "excludedCommands": ["docker", "git"],
    "network": {
      "allowLocalBinding": true
    }
  },
  "includeCoAuthoredBy": true,
  "hooks": {
    "SessionStart": [
      {
        "matcher": "Always",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "SESSION INITIALIZATION: Read MEMORY.md for system registry. List workspace/ folders to find active tasks. For each task folder, read context.md and check Status. If any tasks are PLANNING, ACTIVE, or BLOCKED, summarize them briefly (task ID, status, next steps). Also remind that CLAUDE.md contains orchestrator instructions.",
            "statusMessage": "Loading session state...",
            "timeout": 20
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "COMPACTION PREPARATION: Before context is compacted, ensure critical state is preserved. For each active task in workspace/[task-id]/: (1) Verify context.md has updated Status, (2) Verify Next Steps are documented, (3) Verify Key Findings are recorded. Include in compaction summary: active task IDs, current agent status, blocking issues, and what to resume. This information MUST survive compaction.",
            "statusMessage": "Preparing for compaction...",
            "timeout": 30
          }
        ]
      }
    ]
  }
}

