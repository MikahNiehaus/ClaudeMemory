{
  "permissions": {
    "allow": [
      "Read",
      "Write",
      "Edit",
      "Glob",
      "Grep",
      "Task",
      "TodoWrite",
      "NotebookEdit",
      "WebSearch",
      "WebFetch",
      "AskUserQuestion",
      "Bash(npm:*)",
      "Bash(npx:*)",
      "Bash(yarn:*)",
      "Bash(pnpm:*)",
      "Bash(bun:*)",
      "Bash(node:*)",
      "Bash(python:*)",
      "Bash(pip:*)",
      "Bash(tsc:*)",
      "Bash(eslint:*)",
      "Bash(prettier:*)",
      "Bash(pytest:*)",
      "Bash(jest:*)",
      "Bash(vitest:*)",
      "Bash(mocha:*)",
      "Bash(cargo:*)",
      "Bash(go:*)",
      "Bash(dotnet build:*)",
      "Bash(dotnet build)",
      "Bash(dotnet run:*)",
      "Bash(dotnet run)",
      "Bash(dotnet test:*)",
      "Bash(dotnet test)",
      "Bash(dotnet restore:*)",
      "Bash(dotnet restore)",
      "Bash(dotnet clean:*)",
      "Bash(dotnet clean)",
      "Bash(dotnet new:*)",
      "Bash(dotnet add:*)",
      "Bash(dotnet remove:*)",
      "Bash(dotnet list:*)",
      "Bash(dotnet sln:*)",
      "Bash(dotnet tool:*)",
      "Bash(dotnet watch:*)",
      "Bash(dotnet format:*)",
      "Bash(dotnet --version)",
      "Bash(dotnet --info)",
      "Bash(ls:*)",
      "Bash(pwd)",
      "Bash(cd:*)",
      "Bash(tree:*)",
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(less:*)",
      "Bash(more:*)",
      "Bash(grep:*)",
      "Bash(rg:*)",
      "Bash(fd:*)",
      "Bash(cut:*)",
      "Bash(tr:*)",
      "Bash(stat:*)",
      "Bash(file:*)",
      "Bash(du:*)",
      "Bash(df:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(touch:*)",
      "Bash(chmod:*)",
      "Bash(wc:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(diff:*)",
      "Bash(git status)",
      "Bash(git status:*)",
      "Bash(git diff)",
      "Bash(git diff:*)",
      "Bash(git log)",
      "Bash(git log:*)",
      "Bash(git show:*)",
      "Bash(git blame:*)",
      "Bash(git rev-parse:*)",
      "Bash(git branch)",
      "Bash(git branch -a)",
      "Bash(git branch -r)",
      "Bash(git branch -v)",
      "Bash(git branch --list:*)",
      "Bash(git remote -v)",
      "Bash(git remote show:*)",
      "Bash(git tag)",
      "Bash(git tag -l:*)",
      "Bash(git ls-files:*)",
      "Bash(git ls-tree:*)",
      "Bash(git shortlog:*)",
      "Bash(git describe:*)",
      "Bash(git config --list)",
      "Bash(git config --get:*)",
      "Bash(gh issue:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr status)",
      "Bash(gh pr checks:*)",
      "Bash(gh repo view:*)",
      "Bash(docker ps:*)",
      "Bash(docker images:*)",
      "Bash(docker logs:*)",
      "Bash(docker inspect:*)",
      "Bash(which:*)",
      "Bash(where:*)",
      "Bash(type:*)",
      "Bash(env)",
      "Bash(printenv:*)",
      "Bash(date:*)",
      "Bash(whoami)",
      "Bash(hostname)",
      "Bash(git commit:*)",
      "Bash(git commit)",
      "Bash(git pull:*)",
      "Bash(git pull)",
      "Bash(git fetch:*)",
      "Bash(git fetch)",
      "Bash(git checkout:*)",
      "Bash(git checkout)",
      "Bash(git switch:*)",
      "Bash(git switch)",
      "Bash(git stash:*)",
      "Bash(git stash)",
      "Bash(git branch -d:*)",
      "Bash(git branch -m:*)",
      "Bash(git branch -c:*)",
      "Bash(git branch --copy:*)",
      "Bash(git merge:*)",
      "Bash(git merge)",
      "Bash(git rebase:*)",
      "Bash(git rebase)",
      "Bash(git cherry-pick:*)",
      "Bash(git cherry-pick)",
      "Bash(git tag -a:*)",
      "Bash(git rm:*)",
      "Bash(git mv:*)",
      "Bash(git apply:*)",
      "Bash(git am:*)",
      "Bash(git worktree:*)",
      "Bash(git add:*)",
      "Bash(git add .)",
      "Bash(git add -A)",
      "Bash(git push)",
      "Bash(git push:*)",
      "Bash(git reset:*)",
      "Bash(git reset)",
      "Bash(git clean:*)",
      "Bash(git restore:*)",
      "Bash(git init)",
      "Bash(git init:*)",
      "Bash(git clone:*)",
      "Bash(git remote add:*)",
      "Bash(git remote remove:*)",
      "Bash(git remote set-url:*)",
      "Bash(find:*)",
      "Bash(rm:*)",
      "Bash(rmdir:*)",
      "Bash(echo:*)",
      "Bash(printf:*)",
      "Bash(sed:*)",
      "Bash(awk:*)",
      "Bash(xargs:*)",
      "Bash(tee:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr edit:*)",
      "Bash(gh issue create:*)",
      "Bash(gh issue edit:*)",
      "Bash(claude mcp:*)",
      "mcp__playwright_browser_click",
      "mcp__playwright_browser_type",
      "mcp__playwright_browser_snapshot",
      "mcp__playwright_browser_take_screenshot",
      "mcp__playwright_browser_go_back",
      "mcp__playwright_browser_go_forward",
      "mcp__playwright_browser_select_option",
      "mcp__playwright_browser_hover",
      "mcp__playwright_browser_drag",
      "mcp__playwright_browser_press_key",
      "mcp__playwright_browser_scroll",
      "mcp__playwright_browser_wait",
      "mcp__playwright_browser_close",
      "mcp__playwright_browser_resize",
      "mcp__playwright_browser_file_upload",
      "mcp__playwright_browser_handle_dialog"
    ],
    "ask": [
      "mcp__playwright_browser_navigate",
      "Bash(prisma migrate:*)",
      "Bash(prisma db push:*)",
      "Bash(prisma db seed:*)",
      "Bash(prisma db reset:*)",
      "Bash(npx prisma migrate:*)",
      "Bash(npx prisma db:*)",
      "Bash(drizzle-kit push:*)",
      "Bash(drizzle-kit migrate:*)",
      "Bash(npx drizzle-kit:*)",
      "Bash(knex migrate:*)",
      "Bash(npx knex migrate:*)",
      "Bash(typeorm migration:run:*)",
      "Bash(npx typeorm migration:*)",
      "Bash(dotnet ef migrations:*)",
      "Bash(dotnet ef migrations *)",
      "Bash(dotnet ef database:*)",
      "Bash(dotnet ef database *)",
      "Bash(dotnet-ef migrations:*)",
      "Bash(dotnet-ef database:*)",
      "Bash(*dotnet ef migrations:*)",
      "Bash(*dotnet ef database:*)",
      "Bash(*dotnet-ef migrations:*)",
      "Bash(*dotnet-ef database:*)",
      "Bash(*EntityFrameworkCore*add-migration*)",
      "Bash(*EntityFrameworkCore*update-database*)",
      "Bash(*EntityFrameworkCore*remove-migration*)",
      "Bash(*Add-Migration*)",
      "Bash(*Update-Database*)",
      "Bash(*Remove-Migration*)",
      "Bash(dotnet ef:*)",
      "Bash(dotnet-ef:*)",
      "Bash(dotnet publish:*)",
      "Bash(dotnet publish)",
      "Bash(alembic upgrade:*)",
      "Bash(alembic downgrade:*)",
      "Bash(python -m alembic:*)",
      "Bash(flask db upgrade:*)",
      "Bash(flask db migrate:*)",
      "Bash(flask db downgrade:*)",
      "Bash(python manage.py migrate:*)",
      "Bash(python manage.py makemigrations:*)",
      "Bash(django-admin migrate:*)",
      "Bash(rails db:migrate:*)",
      "Bash(rails db:seed:*)",
      "Bash(rails db:reset:*)",
      "Bash(rails db:drop:*)",
      "Bash(bundle exec rake db:*)",
      "Bash(sequelize db:migrate:*)",
      "Bash(npx sequelize db:*)",
      "Bash(npm run migrate:*)",
      "Bash(npm run db:*)",
      "Bash(yarn migrate:*)",
      "Bash(yarn db:*)",
      "Bash(pnpm migrate:*)",
      "Bash(pnpm db:*)",
      "Bash(npm run deploy:*)",
      "Bash(npm run publish:*)",
      "Bash(npm run release:*)",
      "Bash(yarn deploy:*)",
      "Bash(yarn publish:*)",
      "Bash(yarn release:*)",
      "Bash(pnpm deploy:*)",
      "Bash(pnpm publish:*)",
      "Bash(pnpm release:*)",
      "Bash(vercel:*)",
      "Bash(npx vercel:*)",
      "Bash(netlify deploy:*)",
      "Bash(fly deploy:*)",
      "Bash(heroku:*)",
      "Bash(aws deploy:*)",
      "Bash(gcloud app deploy:*)",
      "Bash(az webapp deploy:*)",
      "Bash(kubectl apply:*)",
      "Bash(docker push:*)",
      "Bash(awk:*)",
      "Bash(sed:*)",
      "Bash(xargs:*)",
      "Bash(rm:*)",
      "Bash(rmdir:*)",
      "Bash(git reset:*)",
      "Bash(git reset)",
      "Bash(git revert:*)",
      "Bash(git revert)",
      "Bash(git clean:*)",
      "Bash(git clean)",
      "Bash(git restore:*)",
      "Bash(git restore)",
      "Bash(git branch -D:*)",
      "Bash(git branch --delete:*)",
      "Bash(git branch -M:*)",
      "Bash(git branch --move:*)",
      "Bash(git tag -d:*)",
      "Bash(git tag --delete:*)",
      "Bash(git remote add:*)",
      "Bash(git remote remove:*)",
      "Bash(git remote rename:*)",
      "Bash(git remote set-url:*)",
      "Bash(git config --global:*)",
      "Bash(git config --system:*)",
      "Bash(git config --local:*)",
      "Bash(git config --unset:*)",
      "Bash(git init:*)",
      "Bash(git init)",
      "Bash(git clone:*)",
      "Bash(git clone)",
      "Bash(git submodule:*)",
      "Bash(git filter-branch:*)",
      "Bash(git reflog expire:*)",
      "Bash(git gc:*)",
      "Bash(git prune:*)",
      "Bash(git format-patch:*)",
      "Bash(git bisect:*)",
      "Bash(git add:*)",
      "Bash(git add)",
      "Bash(git push:*)",
      "Bash(git push)",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh pr close:*)",
      "Bash(gh issue close:*)",
      "Bash(gh repo create:*)",
      "Bash(gh release:*)",
      "Bash(sudo:*)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./.env.local)",
      "Read(./.env.production)",
      "Read(./secrets/**)",
      "Read(./**/secrets/**)",
      "Read(./**/*.pem)",
      "Read(./**/*.key)",
      "Read(./**/credentials*)",
      "Read(./**/*_secret*)",
      "Read(./**/*_token*)",
      "Read(~/.ssh/**)",
      "Read(~/.aws/**)",
      "Read(~/.config/gcloud/**)",
      "Write(./.env)",
      "Write(./.env.*)",
      "Write(./secrets/**)",
      "Edit(./.env)",
      "Edit(./.env.*)",
      "Edit(./secrets/**)",
      "Bash(terraform apply:*)",
      "Bash(terraform destroy:*)",
      "Bash(terraform import:*)",
      "Bash(terraform state:*)",
      "Bash(pulumi up:*)",
      "Bash(pulumi destroy:*)",
      "Bash(pulumi refresh:*)",
      "Bash(cdk deploy:*)",
      "Bash(cdk destroy:*)",
      "Bash(aws cloudformation create-stack:*)",
      "Bash(aws cloudformation update-stack:*)",
      "Bash(aws cloudformation delete-stack:*)",
      "Bash(sam deploy:*)",
      "Bash(kubectl delete:*)",
      "Bash(kubectl scale:*)",
      "Bash(kubectl drain:*)",
      "Bash(kubectl cordon:*)",
      "Bash(kubectl uncordon:*)",
      "Bash(kubectl rollout:*)",
      "Bash(kubectl patch:*)",
      "Bash(kubectl replace:*)",
      "Bash(kubectl set:*)",
      "Bash(kubectl exec:*)",
      "Bash(kubectl cp:*)",
      "Bash(helm install:*)",
      "Bash(helm upgrade:*)",
      "Bash(helm uninstall:*)",
      "Bash(helm rollback:*)",
      "Bash(docker rm:*)",
      "Bash(docker rmi:*)",
      "Bash(docker volume rm:*)",
      "Bash(docker volume prune:*)",
      "Bash(docker network rm:*)",
      "Bash(docker network prune:*)",
      "Bash(docker system prune:*)",
      "Bash(docker image prune:*)",
      "Bash(docker container prune:*)",
      "Bash(docker-compose down:*)",
      "Bash(docker compose down:*)",
      "Bash(docker stop:*)",
      "Bash(docker kill:*)",
      "Bash(npm publish:*)",
      "Bash(npm publish)",
      "Bash(yarn publish:*)",
      "Bash(pnpm publish:*)",
      "Bash(cargo publish:*)",
      "Bash(cargo publish)",
      "Bash(twine upload:*)",
      "Bash(python -m twine upload:*)",
      "Bash(dotnet nuget push:*)",
      "Bash(nuget push:*)",
      "Bash(gem push:*)",
      "Bash(aws s3 rm:*)",
      "Bash(aws s3 rb:*)",
      "Bash(aws s3 mv:*)",
      "Bash(aws s3 sync --delete:*)",
      "Bash(aws s3api delete:*)",
      "Bash(aws ec2 terminate-instances:*)",
      "Bash(aws ec2 delete:*)",
      "Bash(aws ec2 stop-instances:*)",
      "Bash(aws rds delete:*)",
      "Bash(aws rds stop:*)",
      "Bash(aws lambda delete:*)",
      "Bash(aws iam delete:*)",
      "Bash(aws dynamodb delete:*)",
      "Bash(aws sqs delete:*)",
      "Bash(aws sns delete:*)",
      "Bash(az group delete:*)",
      "Bash(az vm delete:*)",
      "Bash(az vm stop:*)",
      "Bash(az storage:*)",
      "Bash(az sql:*)",
      "Bash(az webapp delete:*)",
      "Bash(az functionapp delete:*)",
      "Bash(az aks delete:*)",
      "Bash(gcloud compute instances delete:*)",
      "Bash(gcloud compute instances stop:*)",
      "Bash(gcloud sql instances delete:*)",
      "Bash(gcloud functions delete:*)",
      "Bash(gcloud run services delete:*)",
      "Bash(gcloud container clusters delete:*)",
      "Bash(gcloud storage rm:*)",
      "Bash(psql:*)",
      "Bash(mysql:*)",
      "Bash(mongosh:*)",
      "Bash(mongo:*)",
      "Bash(sqlite3:*)",
      "Bash(redis-cli:*)",
      "Bash(pg_restore:*)",
      "Bash(pg_dump:*)",
      "Bash(mongorestore:*)",
      "Bash(mongodump:*)",
      "Bash(mysqldump:*)",
      "Bash(sqlcmd:*)",
      "Bash(rsync --delete:*)",
      "Bash(rsync*--delete:*)",
      "Bash(robocopy*/MIR:*)",
      "Bash(robocopy*/PURGE:*)",
      "Bash(rclone sync:*)",
      "Bash(rclone move:*)",
      "Bash(rclone delete:*)",
      "Bash(kill:*)",
      "Bash(pkill:*)",
      "Bash(killall:*)",
      "Bash(taskkill:*)",
      "Bash(systemctl stop:*)",
      "Bash(systemctl restart:*)",
      "Bash(systemctl disable:*)",
      "Bash(sc stop:*)",
      "Bash(sc delete:*)",
      "Bash(net stop:*)",
      "Bash(Stop-Service:*)",
      "Bash(Restart-Service:*)",
      "Bash(npm config set registry:*)",
      "Bash(yarn config set registry:*)",
      "Bash(pip config set:*)",
      "Bash(reg add:*)",
      "Bash(reg delete:*)",
      "Bash(Set-ItemProperty*HKLM:*)",
      "Bash(Set-ItemProperty*HKCU:*)",
      "Bash(certbot:*)",
      "Bash(openssl req:*)",
      "Bash(openssl genrsa:*)",
      "Bash(openssl x509:*)",
      "Bash(ssh-keygen -f:*)",
      "Bash(useradd:*)",
      "Bash(userdel:*)",
      "Bash(usermod:*)",
      "Bash(passwd:*)",
      "Bash(chown -R:*)",
      "Bash(net user /add:*)",
      "Bash(net user /delete:*)",
      "Bash(New-LocalUser:*)",
      "Bash(Remove-LocalUser:*)"
    ],
    "deny": [
      "Bash(rm -rf /)",
      "Bash(rm -rf /*)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf ~/*)",
      "Bash(mkfs:*)",
      "Bash(dd if=/dev/zero:*)",
      "Bash(dd if=/dev/random:*)",
      "Bash(format c:*)",
      "Bash(psql -c DROP:*)",
      "Bash(psql -c TRUNCATE:*)",
      "Bash(mysql -e DROP:*)",
      "Bash(mysql -e TRUNCATE:*)",
      "Bash(mongosh --eval db.dropDatabase:*)",
      "Bash(redis-cli FLUSHALL)",
      "Bash(redis-cli FLUSHDB)",
      "Bash(shutdown:*)",
      "Bash(reboot:*)",
      "Bash(init 0)",
      "Bash(init 6)",
      "Bash(halt)",
      "Bash(poweroff)",
      "Bash(chmod 777:*)",
      "Bash(chmod -R 777:*)",
      "Bash(gh repo delete:*)",
      "Bash(dd of=/dev/sd:*)",
      "Bash(mv /etc:*)",
      "Bash(mv /usr:*)",
      "Bash(mv /bin:*)",
      "Bash(mv /var:*)",
      "Bash(find / -exec:*)",
      "Bash(find / -delete:*)",
      "Bash(find . -delete:*)",
      "Bash(find . -exec rm:*)",
      "Bash(find -exec rm:*)",
      "Bash(find -delete:*)",
      "Bash(xargs rm:*)",
      "Bash(xargs chmod 777:*)",
      "Bash(terraform destroy -auto-approve:*)",
      "Bash(terraform destroy --auto-approve:*)",
      "Bash(terraform apply -auto-approve:*)",
      "Bash(terraform apply --auto-approve:*)",
      "Bash(pulumi destroy --yes:*)",
      "Bash(pulumi destroy -y:*)",
      "Bash(pulumi up --yes:*)",
      "Bash(pulumi up -y:*)",
      "Bash(cdk destroy --force:*)",
      "Bash(cdk destroy -f:*)",
      "Bash(kubectl delete --all-namespaces:*)",
      "Bash(kubectl delete -A:*)",
      "Bash(kubectl delete ns kube-system:*)",
      "Bash(kubectl delete namespace kube-system:*)",
      "Bash(docker system prune -af:*)",
      "Bash(docker system prune --all --force:*)",
      "Bash(docker system prune -a --force:*)",
      "Bash(docker system prune --force --all:*)",
      "Bash(aws s3 rb --force:*)",
      "Bash(aws s3 rm --recursive s3://:*)",
      "Bash(helm uninstall --no-hooks:*)",
      "Bash(npm publish --force:*)",
      "Bash(git push --force origin main:*)",
      "Bash(git push --force origin master:*)",
      "Bash(git push -f origin main:*)",
      "Bash(git push -f origin master:*)",
      "Bash(*--force origin main:*)",
      "Bash(*--force origin master:*)",
      "Bash(*-f origin main:*)",
      "Bash(*-f origin master:*)",
      "Bash(DROP DATABASE:*)",
      "Bash(DROP TABLE:*)",
      "Bash(*DROP DATABASE:*)",
      "Bash(*DROP TABLE:*)"
    ],
    "additionalDirectories": []
  },
  "sandbox": {
    "enabled": true,
    "autoAllowBashIfSandboxed": true,
    "excludedCommands": ["docker", "git"],
    "network": {
      "allowLocalBinding": true
    }
  },
  "includeCoAuthoredBy": true,
  "hooks": {
    "SessionStart": [
      {
        "matcher": "Always",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "I AM THE ORCHESTRATOR. I do NOT write code directly. I DELEGATE to specialist agents.\n\nFor EVERY user request, I MUST start my response with:\n\nORCHESTRATOR CHECK:\n- Request type: [read-only | action required]\n- Task ID: [ID or 'new: YYYY-MM-DD-description']\n- Workspace exists: [yes/no]\n- Plan exists: [yes/no]\n- Agent needed: [agent name or 'none']\n\nIf action required and workspace/plan missing, I CREATE THEM FIRST.\n\nNow checking for active tasks in workspace/ folder...",
            "statusMessage": "Orchestrator mode activating...",
            "timeout": 30
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "COMPACTION PREPARATION:\n\nBefore context is compacted, preserve critical state for each active task:\n\n1. Update context.md with:\n   - Current Status\n   - Execution Mode (NORMAL/PERSISTENT)\n   - For PERSISTENT mode:\n     * Completion Criteria table with current status\n     * Progress Tracker (items completed/total)\n     * Last Item Processed\n     * Next Item to process\n   - Next Steps (explicit actions to resume)\n   - Key Findings\n\n2. Update Quick Resume section:\n   - NORMAL mode: '[agent] completed [task]. Next: [action]'\n   - PERSISTENT mode: '**MODE: PERSISTENT** | Progress: M/N | Next: [item] | Criteria: [status]'\n\n3. Include in compaction summary:\n   - Active task IDs\n   - Mode for each task\n   - For PERSISTENT: criteria status, items remaining\n   - Blocking issues\n\nCRITICAL: PERSISTENT mode tasks must resume automatically after compaction.",
            "statusMessage": "Preparing for compaction...",
            "timeout": 45
          }
        ]
      }
    ]
  }
}

